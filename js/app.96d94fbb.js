(function(t){function e(e){for(var a,c,i=e[0],s=e[1],l=e[2],b=0,d=[];b<i.length;b++)c=i[b],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(a=!1)}a&&(r.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},o={app:0},r=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/Assessment-Task/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=s;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},2356:function(t,e,n){"use strict";n("c842")},2816:function(t,e,n){"use strict";n("8b5e")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),o={id:"app"};function r(t,e,n,r,c,i){var s=Object(a["w"])("nav-bar"),l=Object(a["w"])("router-view");return Object(a["p"])(),Object(a["d"])("div",o,[Object(a["g"])(s),Object(a["g"])(l)])}var c=n("eadc"),i=n.n(c),s=Object(a["E"])("data-v-46962b86");Object(a["s"])("data-v-46962b86");var l={class:"navbar navbar-expand-lg navbar-light"},u=Object(a["g"])("div",{class:"container"},[Object(a["g"])("a",{href:"/",class:"navbar-brand custom-logo-link",rel:"home",itemprop:"url"},[Object(a["g"])("img",{src:i.a,class:"img-fluid",alt:"Your Logo",itemprop:"logo"})]),Object(a["g"])("a",{class:"navbar-brand site-title-with-logo",rel:"home",href:"#",title:"Your Project",itemprop:"url"},"Assessment Task"),Object(a["g"])("a",{href:"https://github.com/kaggl/Assessment-Task"},[Object(a["g"])("button",{class:"form-inline btn btn-outline-info"}," Repository ")])],-1);Object(a["q"])();var b=s((function(t,e,n,o,r,c){return Object(a["p"])(),Object(a["d"])("nav",l,[u])})),d={name:"NavigationBar"};d.render=b,d.__scopeId="data-v-46962b86";var p=d,f=(n("4de4"),Object(a["E"])("data-v-c268edc6"));Object(a["s"])("data-v-c268edc6");var j={class:"search input-group mb-3"},O={class:"input-group-prepend"},g={class:"btn btn-outline-info dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},h={class:"dropdown-menu"},m={class:"input-group-prepend"},v=Object(a["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},[Object(a["g"])("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})],-1),y={key:0},w={key:1},k={key:2},x=Object(a["g"])("label",{for:"limit"},"Results per page:",-1);Object(a["q"])();var _=f((function(t,e,n,o,r,c){var i=Object(a["w"])("data-table");return Object(a["p"])(),Object(a["d"])("div",null,[Object(a["g"])("div",j,[Object(a["g"])("div",O,[Object(a["g"])("button",g,Object(a["y"])(r.filter),1),Object(a["g"])("div",h,[Object(a["g"])("a",{class:"dropdown-item",href:"#",onClick:e[1]||(e[1]=function(t){return r.filter="Stelle"})},"Stelle"),Object(a["g"])("a",{class:"dropdown-item",href:"#",onClick:e[2]||(e[2]=function(t){return r.filter="Use Case"})},"Use Case")])]),Object(a["C"])(Object(a["g"])("input",{type:"text",onKeyup:e[3]||(e[3]=Object(a["D"])((function(){return c.enterQuery&&c.enterQuery.apply(c,arguments)}),["enter"])),"onUpdate:modelValue":e[4]||(e[4]=function(t){return r.input=t}),class:"form-control","aria-describedby":"basic-addon1"},null,544),[[a["A"],r.input]]),Object(a["g"])("div",m,[Object(a["g"])("button",{class:"btn btn-primary",onClick:e[5]||(e[5]=function(){return c.enterQuery&&c.enterQuery.apply(c,arguments)}),type:"button"},[v])])]),Object(a["g"])("p",null,[r.init?(Object(a["p"])(),Object(a["d"])("span",y,"Please insert search query")):r.loading?(Object(a["p"])(),Object(a["d"])("span",w,"loading...")):(Object(a["p"])(),Object(a["d"])("span",k,Object(a["y"])(r.count)+" results found, showing "+Object(a["y"])(parseInt(r.offset)+1)+"-"+Object(a["y"])(parseInt(r.offset)+r.limit>r.count?r.count:parseInt(r.offset)+r.limit),1))]),Object(a["g"])("p",null,[Object(a["g"])("button",{class:"btn btn-outline-primary navButton",disabled:!r.previous,onClick:e[6]||(e[6]=function(t){return c.send(r.previous)})},"Previous",8,["disabled"]),x,Object(a["C"])(Object(a["g"])("input",{type:"number",id:"limit","onUpdate:modelValue":e[7]||(e[7]=function(t){return r.limitField=t}),class:"form-control limit"},null,512),[[a["A"],r.limitField]]),Object(a["g"])("button",{class:"btn btn-outline-primary navButton",disabled:!r.next,onClick:e[8]||(e[8]=function(t){return c.send(r.next)})},"Next",8,["disabled"])]),Object(a["g"])(i,{entries:r.results,key:r.renderKey},null,8,["entries"])])})),S=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("b0c0"),n("ac1f"),n("841c"),n("bc3a")),P=n.n(S),C=(n("a15b"),n("d81d"),Object(a["E"])("data-v-4df697b9"));Object(a["s"])("data-v-4df697b9");var A={class:"table",id:"table"},T=Object(a["g"])("thead",null,[Object(a["g"])("tr",null,[Object(a["g"])("th",{scope:"col"},"Label"),Object(a["g"])("th",{scope:"col"},"Title"),Object(a["g"])("th",{scope:"col"},"Author"),Object(a["g"])("th",{scope:"col"},"Associated Keywords"),Object(a["g"])("th",{scope:"col"},"Written")])],-1),I={scope:"row"},D={scope:"row"},q={scope:"row"},z={scope:"row"},K={scope:"row"};Object(a["q"])();var M=C((function(t,e,n,o,r,c){var i=Object(a["w"])("router-link");return Object(a["p"])(),Object(a["d"])("table",A,[T,Object(a["g"])("tbody",null,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(n.entries,(function(t){return Object(a["p"])(),Object(a["d"])("tr",{key:t.legacy_pk},[Object(a["g"])("td",I,Object(a["y"])(t.display_label),1),Object(a["g"])("td",D,[Object(a["g"])(i,{to:"/detail/".concat(t.legacy_pk+1)},{default:C((function(){return[Object(a["f"])(Object(a["y"])(t.text.title),1)]})),_:2},1032,["to"])]),Object(a["g"])("td",q,Object(a["y"])(t.autor.join(", ")),1),Object(a["g"])("td",z,Object(a["y"])(t.key_word.map((function(t){return t.stichwort})).join(", ")),1),Object(a["g"])("td",K,Object(a["y"])(t.text.start_date?t.text.start_date:"unknown")+" - "+Object(a["y"])(t.text.end_date?t.text.end_date:"unknown"),1)])})),128))])])})),N={name:"DataTable",props:{entries:{type:Array,required:!1}}};n("2816");N.render=M,N.__scopeId="data-v-4df697b9";var Q=N,B={name:"Search",data:function(){return{input:"",results:[],loading:!1,count:0,init:!0,next:null,previous:null,offset:this.offsetProp,limit:20,limitField:20,renderKey:0,filter:"Stelle"}},props:{offsetProp:{type:String,default:"20"}},components:{DataTable:Q},methods:{send:function(t){var e=this,n="string"==typeof t;if(this.init=!1,this.loading=!0,n){console.log(t);var a=new URLSearchParams(t);this.offset=a.get("offset")?a.get("offset"):0}else this.limit=parseInt(this.limitField),this.offset=0;(n?P()(t):P()("https://mmp.acdh-dev.oeaw.ac.at/api/stelle/",{params:{format:"json",zitat_lookup:"icontains",zitat:this.input,limit:this.limit}})).then((function(t){console.log(t.data),e.count=t.data.count,e.results=t.data.results,e.next=t.data.next,e.previous=t.data.previous,e.count||(e.loading=!1);for(var n=function(t){e.loading=!0,e.results[t].autor=[];for(var n=e.results[t].text.autor,a=function(a){P()(n[a]).then((function(o){e.results[t].autor.push(o.data.name),a==n.length-1&&(e.renderKey+=1,e.loading=!1)})).catch((function(t){console.log(t),e.loading=!1}))},o=0;o<n.length;o+=1)a(o)},a=0;a<e.results.length;a+=1)n(a)})).catch((function(t){console.log(t),e.loading=!1}))},enterQuery:function(){this.$router.push({name:"Search",params:{search:this.input,offsetProp:this.offset}}),this.send()}},mounted:function(){console.log(this.offsetProp),this.offsetProp&&(this.offset=parseInt(this.offsetProp)),this.$route.params.search&&(this.input=this.$route.params.search,this.send())}};n("2356");B.render=_,B.__scopeId="data-v-c268edc6";var E=B,U={name:"App",components:{NavBar:p,Search:E}};n("775b");U.render=r;var F=U,J=n("6c02"),$=(n("b64b"),Object(a["E"])("data-v-251d3905"));Object(a["s"])("data-v-251d3905");var L={class:"table",id:"table"},R=Object(a["g"])("thead",null,[Object(a["g"])("tr",null,[Object(a["g"])("th",{scope:"col"},"Name"),Object(a["g"])("th",{scope:"col"},"Wert")])],-1),V={scope:"row"},W={scope:"row"},Y={class:"buttonContainer"},H={key:0};Object(a["q"])();var G=$((function(t,e,n,o,r,c){return Object(a["p"])(),Object(a["d"])("div",null,[Object(a["g"])("table",L,[R,Object(a["g"])("tbody",null,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(Object.keys(c.filteredObject),(function(t){return Object(a["p"])(),Object(a["d"])("tr",null,[Object(a["g"])("td",V,Object(a["y"])(t),1),Object(a["g"])("td",W,Object(a["y"])(c.filteredObject[t]),1)])})),256))])]),Object(a["g"])("div",Y,[Object(a["g"])("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=function(t){return r.fullObject=!r.fullObject})},Object(a["y"])(r.fullObject?"Hide":"Show")+" full JSON object",1)]),r.fullObject?(Object(a["p"])(),Object(a["d"])("pre",H,"      "+Object(a["y"])(JSON.stringify(r.detailObject,null,"\t"))+"\r\n    ",1)):Object(a["e"])("",!0)])})),X=(n("99af"),{name:"DetailView",data:function(){return{detailObject:{},fullObject:!1}},methods:{getDetails:function(t){var e=this;P()("https://mmp.acdh-dev.oeaw.ac.at/api/stelle/".concat(t),{params:{format:"json"}}).then((function(t){console.log("Stelle",t.data),e.detailObject=t.data,e.detailObject.autor=[];for(var n=e.detailObject.text.autor,a=0;a<n.length;a+=1)P()(n[a]).then((function(t){console.log("Autor",t.data),e.detailObject.autor.push(t.data.name)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}},computed:{filteredObject:function(){var t={},e=this.detailObject;return Object.keys(e).length?(t.Title=e.text.title,t.Quote=e.zitat,t.Cited=e.zitat_stelle,t.Summary=e.summary,t.Autor=e.autor.join(", "),t.Edition=e.text.edition,t.Written="".concat(e.text.start_date?e.text.start_date:"unknown"," - ").concat(e.text.end_date?e.text.end_date:"unknown"),t.Translation=e.Translation,t.Keywords=e.key_word.map((function(t){return t.stichwort})).join(", "),t.Comment=e.kommentar,t):t}},mounted:function(){this.getDetails(this.$route.params.id)}});n("e82b");X.render=G,X.__scopeId="data-v-251d3905";var Z=X,tt=[{path:"/",redirect:"/search/"},{path:"/search/:search?",name:"Search",component:E,props:!0},{path:"/detail/:id",name:"Detail",component:Z}],et=Object(J["a"])({history:Object(J["b"])("/Assessment-Task/"),routes:tt}),nt=et;Object(a["c"])(F).use(nt).mount("#app")},"775b":function(t,e,n){"use strict";n("fc13")},"89a8":function(t,e,n){},"8b5e":function(t,e,n){},c842:function(t,e,n){},e82b:function(t,e,n){"use strict";n("89a8")},eadc:function(t,e,n){t.exports=n.p+"img/fundament_logo.6e8c6e01.svg"},fc13:function(t,e,n){}});
//# sourceMappingURL=app.96d94fbb.js.map