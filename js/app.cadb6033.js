(function(e){function t(t){for(var n,o,_=t[0],s=t[1],i=t[2],u=0,d=[];u<_.length;u++)o=_[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);l&&l(t);while(d.length)d.shift()();return c.push.apply(c,i||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,_=1;_<a.length;_++){var s=a[_];0!==r[s]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},c=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/Assessment-Task/";var _=window["webpackJsonp"]=window["webpackJsonp"]||[],s=_.push.bind(_);_.push=t,_=_.slice();for(var i=0;i<_.length;i++)t(_[i]);var l=s;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},2131:function(e,t,a){"use strict";a("5e1d")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),r={id:"app"};function c(e,t,a,c,o,_){var s=Object(n["w"])("nav-bar"),i=Object(n["w"])("router-view");return Object(n["p"])(),Object(n["d"])("div",r,[Object(n["g"])(s),Object(n["g"])(i)])}var o=a("eadc"),_=a.n(o),s=Object(n["F"])("data-v-0509e357");Object(n["s"])("data-v-0509e357");var i={class:"navbar navbar-expand-lg navbar-light"},l={class:"container"},u=Object(n["g"])("img",{src:_.a,class:"img-fluid",alt:"Your Logo",itemprop:"logo"},null,-1),d=Object(n["f"])("Assessment Task"),b=Object(n["g"])("a",{href:"https://github.com/kaggl/Assessment-Task"},[Object(n["g"])("button",{class:"form-inline btn btn-outline-info"}," Repository ")],-1);Object(n["q"])();var O=s((function(e,t,a,r,c,o){var _=Object(n["w"])("router-link");return Object(n["p"])(),Object(n["d"])("nav",i,[Object(n["g"])("div",l,[Object(n["g"])(_,{to:"/search/",class:"navbar-brand custom-logo-link",rel:"home"},{default:s((function(){return[u]})),_:1}),Object(n["g"])(_,{to:"/search/",class:"navbar-brand site-title-with-logo",rel:"home",title:"Assessment Task"},{default:s((function(){return[d]})),_:1}),b])])})),p={name:"NavigationBar"};p.render=O,p.__scopeId="data-v-0509e357";var f=p,j=Object(n["F"])("data-v-75c388ae");Object(n["s"])("data-v-75c388ae");var m={class:"container"},g={class:"row"},h={class:"search input-group mb-3 col-md-6 offset-md-3"},v={class:"input-group-prepend"},y=Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},[Object(n["g"])("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})],-1),E={class:"col-md-2"},w={class:"form-check form-switch"},P={class:"btn"},D=Object(n["g"])("label",{class:"form-check-label",for:"checkbox"}," Advanced Search ",-1),M=Object(n["g"])("hr",null,null,-1),k={key:0},A={key:1},C={key:2},x=Object(n["g"])("label",{for:"limit"},"Results per page:",-1);Object(n["q"])();var T=j((function(e,t,a,r,c,o){var _=Object(n["w"])("data-table");return Object(n["p"])(),Object(n["d"])("div",m,[Object(n["g"])("div",g,[Object(n["g"])("div",h,[Object(n["D"])(Object(n["g"])("input",{type:"text",placeholder:"Passage",onKeyup:t[1]||(t[1]=Object(n["E"])((function(){return o.enterQuery&&o.enterQuery.apply(o,arguments)}),["enter"])),"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.input=e}),class:"form-control","aria-describedby":"basic-addon1"},null,544),[[n["B"],c.input]]),c.advanced?Object(n["D"])((Object(n["p"])(),Object(n["d"])("input",{key:0,type:"text",placeholder:"Use Case",onKeyup:t[3]||(t[3]=Object(n["E"])((function(){return o.enterQuery&&o.enterQuery.apply(o,arguments)}),["enter"])),"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.useCase=e}),class:"form-control","aria-describedby":"basic-addon1"},null,544)),[[n["B"],c.useCase]]):Object(n["e"])("",!0),Object(n["g"])("div",v,[Object(n["g"])("button",{class:"btn btn-primary",onClick:t[5]||(t[5]=function(){return o.enterQuery&&o.enterQuery.apply(o,arguments)}),type:"button"},[y])])]),Object(n["g"])("div",E,[Object(n["g"])("div",w,[Object(n["g"])("button",P,[Object(n["D"])(Object(n["g"])("input",{class:"form-check-input",type:"checkbox",id:"checkbox","onUpdate:modelValue":t[6]||(t[6]=function(e){return c.advanced=e})},null,512),[[n["A"],c.advanced]]),D])])])]),M,Object(n["g"])("p",null,[c.init?(Object(n["p"])(),Object(n["d"])("span",k,"Please insert search query")):c.loading?(Object(n["p"])(),Object(n["d"])("span",A,"loading...")):(Object(n["p"])(),Object(n["d"])("span",C,Object(n["y"])(c.count)+" results found, showing "+Object(n["y"])(parseInt(c.offset)+1)+"-"+Object(n["y"])(parseInt(c.offset)+c.limit>c.count?c.count:parseInt(c.offset)+c.limit),1))]),Object(n["g"])("p",null,[Object(n["g"])("button",{class:"btn btn-outline-primary navButton",disabled:!c.previous,onClick:t[7]||(t[7]=function(e){return o.send(c.previous)})},"Previous",8,["disabled"]),x,Object(n["D"])(Object(n["g"])("input",{type:"number",id:"limit","onUpdate:modelValue":t[8]||(t[8]=function(e){return c.limitField=e}),class:"form-control limit"},null,512),[[n["B"],c.limitField]]),Object(n["g"])("button",{class:"btn btn-outline-primary navButton",disabled:!c.next,onClick:t[9]||(t[9]=function(e){return o.send(c.next)})},"Next",8,["disabled"])]),Object(n["g"])(_,{entries:c.results,key:c.renderKey},null,8,["entries"])])})),K=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("b0c0"),a("ac1f"),a("841c"),a("bc3a")),B=a.n(K),I=(a("a15b"),a("d81d"),Object(n["F"])("data-v-00aef366"));Object(n["s"])("data-v-00aef366");var U={class:"table",id:"table"},L=Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",{scope:"col"},"Label"),Object(n["g"])("th",{scope:"col"},"Title"),Object(n["g"])("th",{scope:"col"},"Author"),Object(n["g"])("th",{scope:"col"},"Associated Keywords"),Object(n["g"])("th",{scope:"col"},"Written")])],-1),R={scope:"row"},W={scope:"row"},q={scope:"row"},S={scope:"row"},V={scope:"row"};Object(n["q"])();var F=I((function(e,t,a,r,c,o){var _=Object(n["w"])("router-link");return Object(n["p"])(),Object(n["d"])("table",U,[L,Object(n["g"])("tbody",null,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(a.entries,(function(e){return Object(n["p"])(),Object(n["d"])("tr",{key:e.legacy_pk},[Object(n["g"])("td",R,Object(n["y"])(e.display_label),1),Object(n["g"])("td",W,[Object(n["g"])(_,{to:"/detail/".concat(e.legacy_pk+1)},{default:I((function(){return[Object(n["f"])(Object(n["y"])(e.text.title),1)]})),_:2},1032,["to"])]),Object(n["g"])("td",q,Object(n["y"])(e.autor.join(", ")),1),Object(n["g"])("td",S,Object(n["y"])(e.key_word.map((function(e){return e.stichwort})).join(", ")),1),Object(n["g"])("td",V,Object(n["y"])(e.text.start_date?e.text.start_date:"unknown")+" - "+Object(n["y"])(e.text.end_date?e.text.end_date:"unknown"),1)])})),128))])])})),Q={name:"DataTable",props:{entries:{type:Array,required:!1}}};Q.render=F,Q.__scopeId="data-v-00aef366";var z=Q,N={name:"Search",data:function(){return{input:"",useCase:"",results:[],loading:!1,count:0,init:!0,next:null,previous:null,offset:this.offsetProp,limit:20,limitField:20,renderKey:0,advanced:!1}},props:{offsetProp:{type:String,default:"20"}},components:{DataTable:z},methods:{send:function(e){var t=this,a="string"==typeof e;if(this.init=!1,this.loading=!0,a){console.log(e);var n=new URLSearchParams(e);this.offset=n.get("offset")?n.get("offset"):0}else this.limit=parseInt(this.limitField),this.offset=0;var r={format:"json",zitat_lookup:"icontains",zitat:this.input,limit:this.limit};this.advanced&&this.useCase&&(r.use_case=this.useCase),(a?B()(e):B()("https://mmp.acdh-dev.oeaw.ac.at/api/stelle/",{params:r})).then((function(e){console.log(e.data),t.count=e.data.count,t.results=e.data.results,t.next=e.data.next,t.previous=e.data.previous,t.count||(t.loading=!1);for(var a=function(e){t.loading=!0,t.results[e].autor=[];for(var a=t.results[e].text.autor,n=function(n){B()(a[n]).then((function(r){t.results[e].autor.push(r.data.name),n==a.length-1&&(t.renderKey+=1,t.loading=!1)})).catch((function(e){console.log(e),t.loading=!1}))},r=0;r<a.length;r+=1)n(r)},n=0;n<t.results.length;n+=1)a(n)})).catch((function(e){console.log(e),t.loading=!1}))},enterQuery:function(){this.$router.push({name:"Search",params:{search:this.input,offsetProp:this.offset}}),this.send()}},mounted:function(){console.log(this.offsetProp),this.offsetProp&&(this.offset=parseInt(this.offsetProp)),this.$route.params.search&&(this.input=this.$route.params.search,this.send())}};a("2131");N.render=T,N.__scopeId="data-v-75c388ae";var J=N,$={name:"App",components:{NavBar:f,Search:J}};a("775b");$.render=c;var Z=$,H=a("6c02"),Y=(a("b64b"),Object(n["F"])("data-v-535dd3df"));Object(n["s"])("data-v-535dd3df");var G={class:"container"},X={class:"table",id:"table"},ee=Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",{scope:"col"},"Name"),Object(n["g"])("th",{scope:"col"},"Content")])],-1),te={scope:"row"},ae={scope:"row"},ne={class:"buttonContainer"},re={key:0};Object(n["q"])();var ce=Y((function(e,t,a,r,c,o){return Object(n["p"])(),Object(n["d"])("div",G,[Object(n["g"])("table",X,[ee,Object(n["g"])("tbody",null,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(Object.keys(o.filteredObject),(function(e){return Object(n["p"])(),Object(n["d"])("tr",null,[Object(n["g"])("td",te,Object(n["y"])(e),1),Object(n["g"])("td",ae,Object(n["y"])(Array.isArray(o.filteredObject[e])?o.filteredObject[e].join(", "):o.filteredObject[e]),1)])})),256))])]),Object(n["g"])("div",ne,[Object(n["g"])("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=function(e){return c.fullObject=!c.fullObject})},Object(n["y"])(c.fullObject?"Hide":"Show")+" full JSON object",1)]),c.fullObject?(Object(n["p"])(),Object(n["d"])("pre",re,"      "+Object(n["y"])(JSON.stringify(c.detailObject,null,"\t"))+"\r\n    ",1)):Object(n["e"])("",!0)])})),oe=a("ff3b");a("896f");oe["a"].render=ce,oe["a"].__scopeId="data-v-535dd3df";var _e=oe["a"],se=[{path:"/",redirect:"/search/"},{path:"/search/:search?",name:"Search",component:J,props:!0},{path:"/detail/:id",name:"Detail",component:_e}],ie=Object(H["a"])({history:Object(H["b"])("/Assessment-Task/"),routes:se}),le=ie;Object(n["c"])(Z).use(le).mount("#app")},"5e1d":function(e,t,a){},"6c03":function(e,t,a){},"775b":function(e,t,a){"use strict";a("fc13")},"896f":function(e,t,a){"use strict";a("6c03")},eadc:function(e,t,a){e.exports=a.p+"img/fundament_logo.6e8c6e01.svg"},f770:function(e,t){e.exports={attributes:[{name:"Quote",name_de:"Zitat",attr:"zitat"},{name:"Title",name_de:"Titel",attr:"text.title"},{name:"Cited",name_de:"Zitatstelle",attr:"zitat_stelle"},{name:"Summary",name_de:"Zusammenfassung",attr:"summary"},{name:"Author",name_de:"Autor",attr:"text.autor"},{name:"Edition",name_de:"Auflage",attr:"text.edition"},{name:"Start date",name_de:"Beginndatum",attr:"text.start_date"},{name:"End date",name_de:"Enddatum",attr:"text.end_date"},{name:"Translation",name_de:"Übersetzung",attr:"translation"},{name:"Keywords",name_de:"Stichwörter",attr:"key_word"},{name:"Comment",name_de:"Kommentar",attr:"kommentar"}]}},fc13:function(e,t,a){},ff3b:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("b64b"),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("caad"),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("2532"),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4__),axios__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_5__),_detailView_config__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("f770"),_detailView_config__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_detailView_config__WEBPACK_IMPORTED_MODULE_6__);__webpack_exports__["a"]={name:"DetailView",data:function(){return{detailObject:{},fullObject:!1}},methods:{getDetails:function(e){var t=this;axios__WEBPACK_IMPORTED_MODULE_5___default()("https://mmp.acdh-dev.oeaw.ac.at/api/stelle/".concat(e),{params:{format:"json"}}).then((function(e){console.log("Stelle",e.data),t.detailObject=e.data,t.detailObject.autor=[];for(var a=t.detailObject.text.autor,n=0;n<a.length;n+=1)axios__WEBPACK_IMPORTED_MODULE_5___default()(a[n]).then((function(e){console.log("Autor",e.data),t.detailObject.autor.push(e.data.name)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},computed:{filteredObject:function filteredObject(){var retObj={},obj=this.detailObject;if(!Object.keys(obj).length)return retObj;for(var i=0;i<_detailView_config__WEBPACK_IMPORTED_MODULE_6___default.a.attributes.length;i+=1)retObj[_detailView_config__WEBPACK_IMPORTED_MODULE_6___default.a.attributes[i].name]=eval("obj.".concat(_detailView_config__WEBPACK_IMPORTED_MODULE_6___default.a.attributes[i].attr));for(var _loop=function(e){retObj.Author[e].includes("https://")&&axios__WEBPACK_IMPORTED_MODULE_5___default()(retObj.Author[e]).then((function(t){console.log("Autor:",t.data),retObj.Author[e]=t.data.name})).catch((function(e){console.log(e)}))},_i=0;_i<retObj.Author.length;_i+=1)_loop(_i);return retObj.Keywords=retObj.Keywords.map((function(e){return e.stichwort})),retObj}},mounted:function(){console.log("config",_detailView_config__WEBPACK_IMPORTED_MODULE_6___default.a),this.getDetails(this.$route.params.id)}}}});
//# sourceMappingURL=app.cadb6033.js.map